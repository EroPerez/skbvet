<?php

class M_transfers extends CI_Model {

///////////////////////////////////////////////////////////////////////////////////// 
//Tabla tblTransfers Atributos //////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////

    var $recn = '';
    var $LivestockRecn = '';  //llave externa 
    var $FromFarmRecn = '';  //llave externa
    var $ToFarmRecn = ''; //llave externa
    var $TransferDate = '';

/////////////////////////////////////////////////////////////////////////////////////     
// M�todos de la clase Transfers.
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
//Construtor de la clase.

    public function __construct() {
        parent::__construct();
        $this->load->database();
    }

/////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////   
/// Esta funci�n inserta un elemento en la tabla.

    public function set_transfers($data) {
        //$this->recn = $data['d_recn'];   
        $this->LivestockRecn = $data['d_LivestockRecn'];
        $this->FromFarmRecn = $data['d_FromFarmRecn'];
        $this->ToFarmRecn = $data['d_ToFarmRecn'];
        $this->TransferDate = $data['d_TransferDate'];

        $resultado = $this->db->insert('tbltransfers', $this);
    }

/////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////// 
// Esta funci�n actualiza un elemento en la tabla.

    function update_transfers($data) {
        $this->recn = $data['d_recn'];
        $this->LivestockRecn = $data['d_LivestockRecn'];
        $this->FromFarmRecn = $data['d_FromFarmRecn'];
        $this->ToFarmRecn = $data['d_ToFarmRecn'];
        $this->TransferDate = $data['d_TransferDate'];

        $this->db->where('recn', $data['d_recn']);
        $this->db->update('tbltransfers', $this);
    }

/////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////   
// Esta funci�n elimina un elemento en la tabla.

    public function del_transfers($id) {
        $this->db->delete('tbltransfers', array('recn' => $id));
    }

/////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////   
// Esta funci�n busca elementos en la tabla que cumplen con un criterio.

    public function find_transfers($data) {
        $this->db->select('tbltransfers.*');
        $this->db->from('tbltransfers');
        $this->db->like('TransferDate', $data['d_TransferDate']);
        //$this->db->like('DateAdded', $data['d_DateAdded']);
        //$this->db->like('DateEntered', $data['d_DateEntered']);

        $query = $this->db->get();
        return $query->result_array();
    }

/////////////////////////////////////////////////////////////////////////////////////
/// Retorna todos los datos de la tabla.

    public function get_transfers() {
        $query = $this->db->get('tbltransfers');
        return $query->result_array();
    }

///////////////////////////////////////////////////////////////////////////////////// 
    /////////////////////////////////////////////////////////////////////////////////////
/// Retorna todos los datos de un art�culo solicitado.

    public function get_a_transfers($id) {
        $query = $this->db->get_where('tbltransfers', array('recn' => $id));
        return $query->result_array();
    }

/////////////////////////////////////////////////////////////////////////////////////
/// Retorna todos los datos de un art�culo solicitado por livestock.

    public function get_a_transfers_by_live($id) {
        $query = $this->db->get_where('tbltransfers', array('LivestockRecn' => $id));
        return $query->result_array();
    }

/////////////////////////////////////////////////////////////////////////////////////
}

//llave de la clase 
    
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

